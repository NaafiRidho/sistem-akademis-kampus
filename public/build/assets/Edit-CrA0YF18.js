import{a as i,j as e,H as v,b}from"./app-ChGtWkZu.js";import{D as w}from"./DosenSidebar-Bn9LSuQK.js";import{H as S}from"./Header-CIFYwiEZ.js";/* empty css            */function C({nilai:a}){const[n,x]=i.useState(!0),[m,u]=i.useState(!1),[s,h]=i.useState({tugas:a.tugas?.toString()||"",uts:a.uts?.toString()||"",uas:a.uas?.toString()||""}),[l,p]=i.useState({});i.useEffect(()=>{const t=localStorage.getItem("darkMode")==="true";u(t)},[]);const o=t=>{const{name:d,value:r}=t.target;r!==""&&(isNaN(Number(r))||Number(r)<0||Number(r)>100)||h(f=>({...f,[d]:r}))},j=()=>{const t=parseFloat(s.tugas)||0,d=parseFloat(s.uts)||0,r=parseFloat(s.uas)||0;return(t*.3+d*.3+r*.4).toFixed(2)},N=t=>t>=85?"A":t>=70?"B":t>=60?"C":t>=50?"D":"E",k=t=>({A:"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400",B:"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-400",C:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/20 dark:text-yellow-400",D:"bg-orange-100 text-orange-700 dark:bg-orange-900/20 dark:text-orange-400",E:"bg-red-100 text-red-700 dark:bg-red-900/20 dark:text-red-400"})[t]||"bg-gray-100 text-gray-700",y=t=>{t.preventDefault();const d={tugas:s.tugas,uts:s.uts,uas:s.uas};b.put(`/dosen/nilai/${a.id}`,d,{onError:r=>{p(r),console.error("Validation errors:",r)}})},c=parseFloat(j()),g=N(c);return e.jsx("div",{className:m?"dark":"",children:e.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 transition-colors duration-300",children:[e.jsx(v,{title:"Edit Nilai"}),e.jsx(w,{sidebarOpen:n,setSidebarOpen:x,activeMenu:"nilai"}),e.jsxs("div",{className:`p-4 transition-all duration-300 ${n?"lg:ml-64":"lg:ml-0"}`,children:[e.jsx(S,{sidebarOpen:n,setSidebarOpen:x,darkMode:m,setDarkMode:u,title:"Edit Nilai",subtitle:"Edit nilai mahasiswa"}),e.jsxs("div",{className:"mt-6 max-w-4xl",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Edit Nilai Mahasiswa"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Edit nilai untuk mahasiswa terpilih"})]}),e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl shadow-lg p-6 mb-6 text-white",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 text-sm mb-1",children:"Mahasiswa"}),e.jsx("p",{className:"text-xl font-bold",children:a.mahasiswa.nama}),e.jsxs("p",{className:"text-blue-100 text-sm mt-1",children:["NIM: ",a.mahasiswa.nim]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 text-sm mb-1",children:"Mata Kuliah"}),e.jsx("p",{className:"text-lg font-semibold",children:a.mata_kuliah.nama}),e.jsxs("p",{className:"text-blue-100 text-sm mt-1",children:[a.mata_kuliah.kode," - ",a.mata_kuliah.sks," SKS"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 text-sm mb-1",children:"Kelas"}),e.jsx("p",{className:"text-lg font-semibold",children:a.mahasiswa.kelas})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 text-sm mb-1",children:"Periode"}),e.jsxs("p",{className:"text-lg font-semibold",children:[a.semester," ",a.tahun_ajaran]})]})]})}),e.jsx("form",{onSubmit:y,children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Edit Komponen Nilai"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Nilai Tugas (Bobot 30%) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",name:"tugas",min:"0",max:"100",step:"0.01",value:s.tugas,onChange:o,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"0 - 100",required:!0}),l.tugas&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.tugas})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Nilai UTS (Bobot 30%) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",name:"uts",min:"0",max:"100",step:"0.01",value:s.uts,onChange:o,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"0 - 100",required:!0}),l.uts&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.uts})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Nilai UAS (Bobot 40%) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",name:"uas",min:"0",max:"100",step:"0.01",value:s.uas,onChange:o,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"0 - 100",required:!0}),l.uas&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.uas})]}),e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg p-6 border-2 border-blue-200 dark:border-blue-800",children:e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Nilai Akhir"}),e.jsx("p",{className:"text-4xl font-bold text-blue-600 dark:text-blue-400",children:c.toFixed(2)}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-2",children:["(30% × ",s.tugas||0,") + (30% × ",s.uts||0,") + (40% × ",s.uas||0,")"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Grade"}),e.jsx("span",{className:`inline-block px-6 py-3 rounded-xl text-3xl font-bold ${k(g)}`,children:g})]})]})})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{type:"button",onClick:()=>b.get("/dosen/nilai"),className:"flex-1 px-6 py-3 bg-gray-300 dark:bg-gray-700 hover:bg-gray-400 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-semibold transition",children:"Batal"}),e.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-lg font-semibold shadow-lg transition",children:"Simpan Perubahan"})]})]})})]})]})]})})}export{C as default};
