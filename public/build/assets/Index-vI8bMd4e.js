import{a as d,j as e,H as L,b as r}from"./app--6YDKO9i.js";import{D as $}from"./DosenSidebar-DXVPBAMm.js";import{H}from"./Header-DB4bPmX4.js";/* empty css            */function F({nilai:t,mataKuliahList:i=[],kelasList:x=[],filters:s}){const[c,g]=d.useState(()=>typeof window<"u"?window.innerWidth>=1024:!0),[h,m]=d.useState(!1),[u,p]=d.useState(s.search||""),[b,y]=d.useState(s.mata_kuliah_id?.toString()||""),[k,j]=d.useState(s.kelas_id?.toString()||""),[v,N]=d.useState(s.semester||""),[f,w]=d.useState(s.tahun_ajaran||"");d.useEffect(()=>{const a=localStorage.getItem("darkMode")==="true";m(a)},[]);const S=()=>{r.get("/dosen/nilai",{search:u,mata_kuliah_id:b,kelas_id:k,semester:v,tahun_ajaran:f},{preserveState:!0})},_=()=>{p(""),y(""),j(""),N(""),w(""),r.get("/dosen/nilai")},C=a=>({A:"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400",B:"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-400",C:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/20 dark:text-yellow-400",D:"bg-orange-100 text-orange-700 dark:bg-orange-900/20 dark:text-orange-400",E:"bg-red-100 text-red-700 dark:bg-red-900/20 dark:text-red-400"})[a]||"bg-gray-100 text-gray-700";return e.jsx("div",{className:h?"dark":"",children:e.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 transition-colors duration-300",children:[e.jsx(L,{title:"Kelola Nilai"}),e.jsx($,{sidebarOpen:c,setSidebarOpen:g,activeMenu:"nilai"}),e.jsxs("div",{className:`p-4 transition-all duration-300 ${c?"lg:ml-64":"lg:ml-0"}`,children:[e.jsx(H,{sidebarOpen:c,setSidebarOpen:g,darkMode:h,setDarkMode:m,title:"Kelola Nilai",subtitle:"Kelola nilai mahasiswa untuk mata kuliah yang Anda ajar"}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Kelola Nilai Mahasiswa"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Input dan kelola nilai mahasiswa untuk mata kuliah yang Anda ajar"})]}),e.jsxs("div",{className:"mb-6 flex flex-wrap gap-3",children:[e.jsxs("button",{onClick:()=>r.get("/dosen/nilai/create"),className:"px-6 py-3 bg-linear-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-xl font-semibold shadow-lg transition flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Input Nilai"]}),e.jsxs("button",{onClick:()=>r.get("/dosen/nilai/rekap"),className:"px-6 py-3 bg-white dark:bg-gray-800 border-2 border-blue-600 text-blue-600 dark:text-blue-400 rounded-xl font-semibold hover:bg-blue-50 dark:hover:bg-gray-700 transition flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Lihat Rekap"]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Filter Data"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cari Mahasiswa"}),e.jsx("input",{type:"text",value:u,onChange:a=>p(a.target.value),onKeyPress:a=>a.key==="Enter"&&S(),placeholder:"NIM atau Nama...",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Mata Kuliah"}),e.jsxs("select",{value:b,onChange:a=>y(a.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"",children:"Semua Mata Kuliah"}),i&&i.length>0&&i.map(a=>e.jsxs("option",{value:a.id,children:[a.kode_mk," - ",a.nama_mk]},a.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Kelas"}),e.jsxs("select",{value:k,onChange:a=>j(a.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"",children:"Semua Kelas"}),x&&x.length>0&&x.map(a=>e.jsx("option",{value:a.id,children:a.nama_kelas},a.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Semester"}),e.jsxs("select",{value:v,onChange:a=>N(a.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"",children:"Semua Semester"}),e.jsx("option",{value:"Ganjil",children:"Ganjil"}),e.jsx("option",{value:"Genap",children:"Genap"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tahun Ajaran"}),e.jsxs("select",{value:f,onChange:a=>w(a.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"",children:"Semua Tahun"}),e.jsx("option",{value:"2023/2024",children:"2023/2024"}),e.jsx("option",{value:"2024/2025",children:"2024/2025"}),e.jsx("option",{value:"2025/2026",children:"2025/2026"}),e.jsx("option",{value:"2026/2027",children:"2026/2027"})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:S,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition",children:"Terapkan Filter"}),e.jsx("button",{onClick:_,className:"px-6 py-2 bg-gray-300 dark:bg-gray-700 hover:bg-gray-400 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-semibold transition",children:"Reset"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-linear-to-r from-blue-600 to-purple-600 text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"NIM"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Nama"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Mata Kuliah"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Semester"}),e.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold",children:"Tugas"}),e.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold",children:"UTS"}),e.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold",children:"UAS"}),e.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold",children:"Nilai Akhir"}),e.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold",children:"Grade"}),e.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold",children:"Aksi"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:t?.data&&t.data.length>0?t.data.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-700 dark:text-gray-300",children:a.mahasiswa.nim}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.mahasiswa.nama}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[a.mahasiswa.kelas," - ",a.mahasiswa.prodi]})]}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.mata_kuliah.nama}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[a.mata_kuliah.kode," (",a.mata_kuliah.sks," SKS)"]})]}),e.jsxs("td",{className:"px-6 py-4 text-sm text-gray-700 dark:text-gray-300",children:[a.semester," - ",a.tahun_ajaran]}),e.jsx("td",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900 dark:text-white",children:a.tugas!=null?Number(a.tugas).toFixed(2):"-"}),e.jsx("td",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900 dark:text-white",children:a.uts!=null?Number(a.uts).toFixed(2):"-"}),e.jsx("td",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900 dark:text-white",children:a.uas!=null?Number(a.uas).toFixed(2):"-"}),e.jsx("td",{className:"px-6 py-4 text-center text-sm font-bold text-blue-600 dark:text-blue-400",children:a.nilai_akhir!=null?Number(a.nilai_akhir).toFixed(2):"-"}),e.jsx("td",{className:"px-6 py-4 text-center",children:a.grade?e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-bold ${C(a.grade)}`,children:a.grade}):"-"}),e.jsxs("td",{className:"px-6 py-4 text-center",children:[e.jsx("button",{onClick:()=>r.get(`/dosen/nilai/${a.id}/edit`),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 mr-3",title:"Edit",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),e.jsx("button",{onClick:()=>{confirm("Yakin ingin menghapus nilai ini?")&&r.delete(`/dosen/nilai/${a.id}`)},className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",title:"Hapus",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},a.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:10,className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("svg",{className:"w-16 h-16 text-gray-400 dark:text-gray-600 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"Belum ada data nilai"}),e.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm mt-2",children:'Klik tombol "Input Nilai" untuk menambah data'})]})})})})]})}),t?.last_page&&t.last_page>1&&e.jsx("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Menampilkan ",t.from||0," - ",t.to||0," dari ",t.total||0," data"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>t.current_page>1&&r.get(`/dosen/nilai?page=${t.current_page-1}`,s,{preserveState:!0}),disabled:t.current_page===1,className:`px-3 py-2 rounded-lg font-medium transition flex items-center gap-1 ${t.current_page===1?"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),e.jsx("span",{className:"hidden sm:inline",children:"Prev"})]}),e.jsx("div",{className:"flex gap-1",children:(()=>{const a=[],l=t.current_page,n=t.last_page;a.push(e.jsx("button",{onClick:()=>r.get("/dosen/nilai?page=1",s,{preserveState:!0}),className:`px-3 py-2 rounded-lg font-medium transition ${l===1?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"1"},1)),l>3&&a.push(e.jsx("span",{className:"px-2 py-2 text-gray-500 dark:text-gray-400",children:"..."},"ellipsis-start"));const M=Math.max(2,l-1),K=Math.min(n-1,l+1);for(let o=M;o<=K;o++)a.push(e.jsx("button",{onClick:()=>r.get(`/dosen/nilai?page=${o}`,s,{preserveState:!0}),className:`px-3 py-2 rounded-lg font-medium transition ${l===o?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:o},o));return l<n-2&&a.push(e.jsx("span",{className:"px-2 py-2 text-gray-500 dark:text-gray-400",children:"..."},"ellipsis-end")),n>1&&a.push(e.jsx("button",{onClick:()=>r.get(`/dosen/nilai?page=${n}`,s,{preserveState:!0}),className:`px-3 py-2 rounded-lg font-medium transition ${l===n?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:n},n)),a})()}),e.jsxs("button",{onClick:()=>t.current_page<t.last_page&&r.get(`/dosen/nilai?page=${t.current_page+1}`,s,{preserveState:!0}),disabled:t.current_page===t.last_page,className:`px-3 py-2 rounded-lg font-medium transition flex items-center gap-1 ${t.current_page===t.last_page?"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:[e.jsx("span",{className:"hidden sm:inline",children:"Next"}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})})]})]})]})]})})}export{F as default};
