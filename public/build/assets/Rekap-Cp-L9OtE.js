import{a as s,j as e,H as C,b as i}from"./app--6YDKO9i.js";import{D as A}from"./DosenSidebar-DXVPBAMm.js";import{H as R}from"./Header-DB4bPmX4.js";/* empty css            */function B({rekapNilai:t=[],mataKuliahList:x=[],kelasList:o=[],filters:d}){const[l,c]=s.useState(()=>typeof window<"u"?window.innerWidth>=1024:!0),[g,h]=s.useState(!1),[m,u]=s.useState(d.mata_kuliah_id?.toString()||""),[b,p]=s.useState(d.kelas_id?.toString()||""),[y,k]=s.useState(d.semester||""),[j,v]=s.useState(d.tahun_ajaran||"");s.useEffect(()=>{const a=localStorage.getItem("darkMode")==="true";h(a)},[]);const f=()=>{i.get("/dosen/nilai/rekap",{mata_kuliah_id:m,kelas_id:b,semester:y,tahun_ajaran:j},{preserveState:!0})},w=()=>{u(""),p(""),k(""),v(""),i.get("/dosen/nilai/rekap")},N=a=>({A:"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400",B:"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-400",C:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/20 dark:text-yellow-400",D:"bg-orange-100 text-orange-700 dark:bg-orange-900/20 dark:text-orange-400",E:"bg-red-100 text-red-700 dark:bg-red-900/20 dark:text-red-400"})[a]||"bg-gray-100 text-gray-700",S=a=>a>=85?"text-green-600 dark:text-green-400":a>=70?"text-blue-600 dark:text-blue-400":a>=60?"text-yellow-600 dark:text-yellow-400":a>=50?"text-orange-600 dark:text-orange-400":"text-red-600 dark:text-red-400",n=t?.length||0,_=n>0&&t?t.reduce((a,r)=>a+Number(r.nilai_akhir_avg),0)/n:0,M=t?.reduce((a,r)=>(a[r.grade_terbanyak]=(a[r.grade_terbanyak]||0)+1,a),{})||{};return e.jsx("div",{className:g?"dark":"",children:e.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 transition-colors duration-300",children:[e.jsx(C,{title:"Rekap Nilai"}),e.jsx(A,{sidebarOpen:l,setSidebarOpen:c,activeMenu:"nilai"}),e.jsxs("div",{className:`p-4 transition-all duration-300 ${l?"lg:ml-64":"lg:ml-0"}`,children:[e.jsx(R,{sidebarOpen:l,setSidebarOpen:c,darkMode:g,setDarkMode:h,title:"Rekap Nilai",subtitle:"Ringkasan dan statistik nilai mahasiswa"}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Rekap Nilai Mahasiswa"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Ringkasan dan statistik nilai mahasiswa"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-1",children:"Total Mahasiswa"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:n})]}),e.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/20 p-4 rounded-full",children:e.jsx("svg",{className:"w-8 h-8 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-1",children:"Rata-rata Nilai"}),e.jsx("p",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:_.toFixed(2)})]}),e.jsx("div",{className:"bg-purple-100 dark:bg-purple-900/20 p-4 rounded-full",children:e.jsx("svg",{className:"w-8 h-8 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-3",children:"Distribusi Grade"}),e.jsx("div",{className:"space-y-2",children:["A","B","C","D","E"].map(a=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${N(a)}`,children:a}),e.jsxs("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:[M[a]||0," orang"]})]},a))})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Filter Data"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Mata Kuliah"}),e.jsxs("select",{value:m,onChange:a=>u(a.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"",children:"Semua Mata Kuliah"}),x&&x.map(a=>e.jsxs("option",{value:a.id,children:[a.kode_mk," - ",a.nama_mk]},a.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Kelas"}),e.jsxs("select",{value:b,onChange:a=>p(a.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"",children:"Semua Kelas"}),o&&o.map(a=>e.jsx("option",{value:a.id,children:a.nama_kelas},a.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Semester"}),e.jsxs("select",{value:y,onChange:a=>k(a.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"",children:"Semua Semester"}),e.jsx("option",{value:"Ganjil",children:"Ganjil"}),e.jsx("option",{value:"Genap",children:"Genap"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tahun Ajaran"}),e.jsxs("select",{value:j,onChange:a=>v(a.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"",children:"Semua Tahun"}),e.jsx("option",{value:"2023/2024",children:"2023/2024"}),e.jsx("option",{value:"2024/2025",children:"2024/2025"}),e.jsx("option",{value:"2025/2026",children:"2025/2026"}),e.jsx("option",{value:"2026/2027",children:"2026/2027"})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:f,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition",children:"Terapkan Filter"}),e.jsx("button",{onClick:w,className:"px-6 py-2 bg-gray-300 dark:bg-gray-700 hover:bg-gray-400 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-semibold transition",children:"Reset"}),e.jsx("button",{onClick:()=>i.get("/dosen/nilai"),className:"px-6 py-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-semibold transition ml-auto",children:"Kembali ke List"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 bg-linear-to-r from-blue-600 to-purple-600",children:e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Rekap Nilai per Mahasiswa"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"No"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"NIM"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Nama Mahasiswa"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Jumlah MK"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Avg Tugas"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Avg UTS"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Avg UAS"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Nilai Akhir"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Grade"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:t&&t.length>0?t.map((a,r)=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-700 dark:text-gray-300",children:r+1}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-700 dark:text-gray-300",children:a.nim}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.nama}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:a.kelas})]}),e.jsx("td",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900 dark:text-white",children:a.jumlah_mk}),e.jsx("td",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900 dark:text-white",children:Number(a.tugas_avg).toFixed(2)}),e.jsx("td",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900 dark:text-white",children:Number(a.uts_avg).toFixed(2)}),e.jsx("td",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900 dark:text-white",children:Number(a.uas_avg).toFixed(2)}),e.jsx("td",{className:`px-6 py-4 text-center text-sm font-bold ${S(Number(a.nilai_akhir_avg))}`,children:Number(a.nilai_akhir_avg).toFixed(2)}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-bold ${N(a.grade_terbanyak)}`,children:a.grade_terbanyak})})]},a.mahasiswa_id)):e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("svg",{className:"w-16 h-16 text-gray-400 dark:text-gray-600 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"Belum ada data rekap nilai"})]})})})})]})})]})]})]})]})})}export{B as default};
