import{a as r,j as e,H as M,b as s}from"./app--6YDKO9i.js";import{D as L}from"./DosenSidebar-DXVPBAMm.js";import{H as C}from"./Header-DB4bPmX4.js";/* empty css            */function D({absensi:t,mataKuliahList:v,kelasList:f,filters:l}){const[d,N]=r.useState(()=>{if(typeof window<"u"){const a=localStorage.getItem("darkMode");return a!==null?a==="true":window.matchMedia("(prefers-color-scheme: dark)").matches}return!1}),[i,m]=r.useState(()=>typeof window<"u"?window.innerWidth>=1024:!0),[o,u]=r.useState(l.search||""),[c,p]=r.useState(l.mata_kuliah_id?.toString()||""),[x,b]=r.useState(l.kelas_id?.toString()||""),[g,k]=r.useState(l.status||""),[h,j]=r.useState(l.tanggal||"");r.useEffect(()=>{d?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode",String(d))},[d]);const y=()=>{s.get("/dosen/absensi",{search:o,mata_kuliah_id:c,kelas_id:x,status:g,tanggal:h},{preserveState:!0})},w=()=>{u(""),p(""),b(""),k(""),j(""),s.get("/dosen/absensi")},S=a=>({Hadir:"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400",Izin:"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-400",Sakit:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/20 dark:text-yellow-400",Alpa:"bg-red-100 text-red-700 dark:bg-red-900/20 dark:text-red-400"})[a]||"bg-gray-100 text-gray-700";return e.jsx("div",{className:d?"dark":"",children:e.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 transition-colors duration-300",children:[e.jsx(M,{title:"Kelola Absensi"}),e.jsx(L,{sidebarOpen:i,setSidebarOpen:m,activeMenu:"absensi"}),e.jsxs("div",{className:`p-4 transition-all duration-300 ${i?"lg:ml-64":"lg:ml-0"}`,children:[e.jsx(C,{sidebarOpen:i,setSidebarOpen:m,darkMode:d,setDarkMode:N,title:"Kelola Absensi",subtitle:"Kelola kehadiran mahasiswa untuk mata kuliah yang Anda ajar"}),e.jsxs("div",{className:"mt-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"ðŸ“‹ Kelola Absensi"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsx("div",{onClick:()=>s.get("/dosen/absensi/create"),className:"bg-gradient-to-br from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 rounded-xl p-6 text-white cursor-pointer transform hover:scale-105 transition-all shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold mb-2",children:"Input Absensi Baru"}),e.jsx("p",{className:"text-blue-100 text-sm",children:"Rekam kehadiran mahasiswa untuk pertemuan hari ini"})]}),e.jsx("svg",{className:"w-12 h-12 opacity-80",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})]})}),e.jsx("div",{onClick:()=>s.get("/dosen/absensi/rekap"),className:"bg-gradient-to-br from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 rounded-xl p-6 text-white cursor-pointer transform hover:scale-105 transition-all shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold mb-2",children:"Lihat Rekap Absensi"}),e.jsx("p",{className:"text-purple-100 text-sm",children:"Statistik dan ringkasan kehadiran mahasiswa"})]}),e.jsx("svg",{className:"w-12 h-12 opacity-80",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})]})})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-5 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("svg",{className:"w-5 h-5 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),e.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-white",children:"Filter & Pencarian"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ðŸ” Cari Mahasiswa"}),e.jsx("input",{type:"text",value:o,onChange:a=>u(a.target.value),onKeyPress:a=>a.key==="Enter"&&y(),placeholder:"Ketik NIM atau Nama...",className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white placeholder-gray-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ðŸ“… Tanggal"}),e.jsx("input",{type:"date",value:h,onChange:a=>j(a.target.value),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ðŸ“Š Status Kehadiran"}),e.jsxs("select",{value:g,onChange:a=>k(a.target.value),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"",children:"Semua Status"}),e.jsx("option",{value:"Hadir",children:"âœ… Hadir"}),e.jsx("option",{value:"Izin",children:"ðŸ“ Izin"}),e.jsx("option",{value:"Sakit",children:"ðŸ¥ Sakit"}),e.jsx("option",{value:"Alpa",children:"âŒ Alpa"})]})]})]}),e.jsxs("details",{className:"mt-4",children:[e.jsx("summary",{className:"cursor-pointer text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium",children:"âš™ï¸ Filter Lanjutan (Mata Kuliah & Kelas)"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ðŸ“š Mata Kuliah"}),e.jsxs("select",{value:c,onChange:a=>p(a.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"",children:"Semua Mata Kuliah"}),v.map(a=>e.jsxs("option",{value:a.id,children:[a.kode_mk," - ",a.nama_mk]},a.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ðŸ« Kelas"}),e.jsxs("select",{value:x,onChange:a=>b(a.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"",children:"Semua Kelas"}),f.map(a=>e.jsx("option",{value:a.id,children:a.nama_kelas},a.id))]})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsxs("button",{onClick:y,className:"px-6 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition-colors shadow-sm flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Cari"]}),e.jsx("button",{onClick:w,className:"px-6 py-2.5 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-semibold transition-colors",children:"Reset"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Riwayat Absensi"]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Total: ",t.total," data absensi"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full bg-white dark:bg-gray-800",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700 border-b-2 border-gray-200 dark:border-gray-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-5 py-4 text-left text-xs font-bold text-gray-700 dark:text-gray-200 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center gap-2",children:["ðŸ“… ",e.jsx("span",{children:"Tanggal"})]})}),e.jsx("th",{className:"px-5 py-4 text-left text-xs font-bold text-gray-700 dark:text-gray-200 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center gap-2",children:["ðŸ‘¤ ",e.jsx("span",{children:"Mahasiswa"})]})}),e.jsx("th",{className:"px-5 py-4 text-left text-xs font-bold text-gray-700 dark:text-gray-200 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center gap-2",children:["ðŸ“š ",e.jsx("span",{children:"Mata Kuliah"})]})}),e.jsx("th",{className:"px-5 py-4 text-center text-xs font-bold text-gray-700 dark:text-gray-200 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:["âœ“ ",e.jsx("span",{children:"Status"})]})}),e.jsx("th",{className:"px-5 py-4 text-left text-xs font-bold text-gray-700 dark:text-gray-200 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center gap-2",children:["ðŸ“ ",e.jsx("span",{children:"Keterangan"})]})}),e.jsx("th",{className:"px-5 py-4 text-center text-xs font-bold text-gray-700 dark:text-gray-200 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:["âš™ï¸ ",e.jsx("span",{children:"Aksi"})]})})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:t.data.length>0?t.data.map(a=>e.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-blue-50 hover:to-transparent dark:hover:from-gray-700/40 dark:hover:to-transparent transition-all duration-200 group",children:[e.jsx("td",{className:"px-5 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 rounded-lg p-2.5 group-hover:bg-blue-200 dark:group-hover:bg-blue-900/50 transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-gray-900 dark:text-white",children:new Date(a.tanggal).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:new Date(a.tanggal).toLocaleDateString("id-ID",{weekday:"long"})})]})]})}),e.jsx("td",{className:"px-5 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-purple-100 dark:bg-purple-900/30 rounded-full w-10 h-10 flex items-center justify-center text-purple-700 dark:text-purple-400 font-bold text-sm group-hover:bg-purple-200 dark:group-hover:bg-purple-900/50 transition-colors",children:a.mahasiswa.nama.split(" ").map(n=>n[0]).slice(0,2).join("").toUpperCase()}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-gray-900 dark:text-white",children:a.mahasiswa.nama}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono",children:a.mahasiswa.nim})]})]})}),e.jsx("td",{className:"px-5 py-4",children:e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx("div",{className:"bg-green-100 dark:bg-green-900/30 rounded-lg px-2.5 py-1.5 group-hover:bg-green-200 dark:group-hover:bg-green-900/50 transition-colors",children:e.jsx("span",{className:"text-xs font-bold text-green-700 dark:text-green-400",children:a.jadwal.mata_kuliah.kode})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:a.jadwal.mata_kuliah.nama_mk}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Kelas"," ",a.jadwal.kelas.nama," ","â€¢"," ",a.jadwal.hari,","," ",a.jadwal.jam_mulai]})]})]})}),e.jsx("td",{className:"px-5 py-4 text-center",children:e.jsxs("span",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold ${S(a.status)}`,children:[e.jsxs("span",{className:"text-base",children:[a.status==="Hadir"&&"âœ…",a.status==="Izin"&&"ðŸ“",a.status==="Sakit"&&"ðŸ¥",a.status==="Alpa"&&"âŒ"]}),a.status]})}),e.jsx("td",{className:"px-5 py-4",children:e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 max-w-xs",children:a.keterangan?e.jsx("span",{className:"line-clamp-2",children:a.keterangan}):e.jsx("span",{className:"text-gray-400 dark:text-gray-500 italic text-xs",children:"Tidak ada keterangan"})})}),e.jsx("td",{className:"px-5 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>s.get(`/dosen/absensi/${a.id}/edit`),className:"p-2.5 text-blue-600 hover:bg-blue-100 dark:text-blue-400 dark:hover:bg-blue-900/30 rounded-lg transition-all hover:scale-110",title:"Edit Absensi",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),e.jsx("button",{onClick:()=>{confirm(`Hapus absensi ${a.mahasiswa.nama} pada ${new Date(a.tanggal).toLocaleDateString("id-ID")}?`)&&s.delete(`/dosen/absensi/${a.id}`)},className:"p-2.5 text-red-600 hover:bg-red-100 dark:text-red-400 dark:hover:bg-red-900/30 rounded-lg transition-all hover:scale-110",title:"Hapus Absensi",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},a.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-16 text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-full p-6 mb-4",children:e.jsx("svg",{className:"w-16 h-16 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Belum Ada Data Absensi"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-4",children:o||g||h||c||x?"Tidak ada data yang sesuai dengan filter":"Mulai input absensi mahasiswa untuk kelas Anda"}),e.jsx("button",{onClick:()=>s.get("/dosen/absensi/create"),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition-colors shadow-md",children:"Input Absensi Sekarang"})]})})})})]})}),t.last_page>1&&e.jsx("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Menampilkan ",t.data.length," ","dari ",t.total," data"]}),e.jsx("div",{className:"flex gap-2",children:Array.from({length:t.last_page},(a,n)=>n+1).map(a=>e.jsx("button",{onClick:()=>s.get(`/dosen/absensi?page=${a}`,l,{preserveState:!0}),className:`px-4 py-2 rounded-lg font-semibold transition ${a===t.current_page?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:a},a))})]})})]})]})]})]})})}export{D as default};
