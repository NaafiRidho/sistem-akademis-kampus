import{a as s,j as e,H as w,b as d}from"./app--6YDKO9i.js";import{M as S}from"./MahasiswaSidebar-BrYkAXud.js";import{H as _}from"./Header-DB4bPmX4.js";/* empty css            */function T({nilai:t,mataKuliahList:y,filters:l}){const[i,n]=s.useState(!0),[x,o]=s.useState(!1),[c,h]=s.useState(l.mata_kuliah_id?.toString()||""),[g,m]=s.useState(l.semester||""),[u,b]=s.useState(l.tahun_ajaran||"");s.useEffect(()=>{const a=localStorage.getItem("darkMode")==="true";o(a)},[]);const k=()=>{d.get("/mahasiswa/nilai",{mata_kuliah_id:c,semester:g,tahun_ajaran:u},{preserveState:!0})},N=()=>{h(""),m(""),b(""),d.get("/mahasiswa/nilai")},p=a=>({A:"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400",B:"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-400",C:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/20 dark:text-yellow-400",D:"bg-orange-100 text-orange-700 dark:bg-orange-900/20 dark:text-orange-400",E:"bg-red-100 text-red-700 dark:bg-red-900/20 dark:text-red-400"})[a]||"bg-gray-100 text-gray-700",f=t.total,j=t.data.filter(a=>a.grade!==null),v=j.reduce((a,r)=>(r.grade&&(a[r.grade]=(a[r.grade]||0)+1),a),{});return e.jsx("div",{className:x?"dark":"",children:e.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 transition-colors duration-300",children:[e.jsx(w,{title:"Nilai Saya"}),e.jsx(S,{sidebarOpen:i,setSidebarOpen:n,activeMenu:"nilai"}),e.jsxs("div",{className:`p-4 transition-all duration-300 ${i?"lg:ml-64":"lg:ml-0"}`,children:[e.jsx(_,{sidebarOpen:i,setSidebarOpen:n,darkMode:x,setDarkMode:o,title:"Nilai Saya",subtitle:"Lihat nilai Anda untuk semua mata kuliah"}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Nilai Saya"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Lihat nilai Anda untuk semua mata kuliah"})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("button",{onClick:()=>d.get("/mahasiswa/nilai/transkrip"),className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-xl font-semibold shadow-lg transition flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Lihat Transkrip Nilai"]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-7 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-xs mb-1",children:"Total Nilai"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:f})]}),["A","B","C","D","E"].map(a=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4",children:[e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-xs mb-1",children:["Grade ",a]}),e.jsx("p",{className:`text-2xl font-bold ${p(a).split(" ")[0].replace("bg-","text-")}`,children:v[a]||0})]},a)),e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl shadow-lg p-4",children:[e.jsx("p",{className:"text-blue-100 text-xs mb-1",children:"Sudah Dinilai"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:j.length})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Filter Data"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Mata Kuliah"}),e.jsxs("select",{value:c,onChange:a=>h(a.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"",children:"Semua Mata Kuliah"}),y.map(a=>e.jsxs("option",{value:a.id,children:[a.kode_mk," - ",a.nama_mk]},a.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Semester"}),e.jsxs("select",{value:g,onChange:a=>m(a.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"",children:"Semua Semester"}),e.jsx("option",{value:"Ganjil",children:"Ganjil"}),e.jsx("option",{value:"Genap",children:"Genap"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tahun Ajaran"}),e.jsxs("select",{value:u,onChange:a=>b(a.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"",children:"Semua Tahun"}),e.jsx("option",{value:"2023/2024",children:"2023/2024"}),e.jsx("option",{value:"2024/2025",children:"2024/2025"}),e.jsx("option",{value:"2025/2026",children:"2025/2026"}),e.jsx("option",{value:"2026/2027",children:"2026/2027"})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:k,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition",children:"Terapkan Filter"}),e.jsx("button",{onClick:N,className:"px-6 py-2 bg-gray-300 dark:bg-gray-700 hover:bg-gray-400 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-semibold transition",children:"Reset"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"No"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Mata Kuliah"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Semester"}),e.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold",children:"Tugas (30%)"}),e.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold",children:"UTS (30%)"}),e.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold",children:"UAS (40%)"}),e.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold",children:"Nilai Akhir"}),e.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold",children:"Grade"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:t.data.length>0?t.data.map((a,r)=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-700 dark:text-gray-300",children:(t.current_page-1)*t.per_page+r+1}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.mata_kuliah.nama}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[a.mata_kuliah.kode," (",a.mata_kuliah.sks," SKS)"]})]}),e.jsxs("td",{className:"px-6 py-4 text-sm text-gray-700 dark:text-gray-300",children:[a.semester," - ",a.tahun_ajaran]}),e.jsx("td",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900 dark:text-white",children:a.tugas!==null?a.tugas.toFixed(2):"-"}),e.jsx("td",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900 dark:text-white",children:a.uts!==null?a.uts.toFixed(2):"-"}),e.jsx("td",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900 dark:text-white",children:a.uas!==null?a.uas.toFixed(2):"-"}),e.jsx("td",{className:"px-6 py-4 text-center text-sm font-bold text-blue-600 dark:text-blue-400",children:a.nilai_akhir!==null?a.nilai_akhir.toFixed(2):"-"}),e.jsx("td",{className:"px-6 py-4 text-center",children:a.grade?e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-bold ${p(a.grade)}`,children:a.grade}):e.jsx("span",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"Belum dinilai"})})]},a.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("svg",{className:"w-16 h-16 text-gray-400 dark:text-gray-600 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"Belum ada data nilai"})]})})})})]})}),t.last_page>1&&e.jsx("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Menampilkan ",t.data.length," dari ",t.total," data"]}),e.jsx("div",{className:"flex gap-2",children:Array.from({length:t.last_page},(a,r)=>r+1).map(a=>e.jsx("button",{onClick:()=>d.get(`/mahasiswa/nilai?page=${a}`,l,{preserveState:!0}),className:`px-4 py-2 rounded-lg font-semibold transition ${a===t.current_page?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:a},a))})]})})]}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-600 p-6 rounded-lg mt-6",children:e.jsxs("div",{className:"flex",children:[e.jsx("svg",{className:"w-6 h-6 text-blue-600 dark:text-blue-400 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-blue-900 dark:text-blue-300 font-semibold mb-2",children:"Keterangan Penilaian"}),e.jsxs("ul",{className:"text-blue-700 dark:text-blue-400 text-sm space-y-1",children:[e.jsx("li",{children:"• Nilai Akhir = (30% × Tugas) + (30% × UTS) + (40% × UAS)"}),e.jsx("li",{children:"• Grade A: ≥ 85 | Grade B: 70-84 | Grade C: 60-69 | Grade D: 50-59 | Grade E: < 50"}),e.jsx("li",{children:"• Jika ada komponen nilai yang belum diinput, nilai akhir belum dapat dihitung"})]})]})]})})]})]})]})})}export{T as default};
