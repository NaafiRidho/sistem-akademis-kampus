import{a as r,j as e,H as M,c as L,b as y}from"./app-ByiX6l9u.js";import{M as C}from"./MahasiswaSidebar-B5stgciF.js";import{H as T}from"./Header-CSuXi-vG.js";import{P as B}from"./Pagination-CJNxOp1u.js";/* empty css            */function z({tugas:t,mataKuliahList:f,filters:d}){const[n,i]=r.useState(!0),[l,o]=r.useState(!1),[u,c]=r.useState(d.search||""),[g,x]=r.useState(d.status||""),[m,h]=r.useState(d.mata_kuliah_id?.toString()||"");r.useEffect(()=>{const a=localStorage.getItem("darkMode")==="true";o(a),a&&document.documentElement.classList.add("dark")},[]),r.useEffect(()=>{l?(document.documentElement.classList.add("dark"),localStorage.setItem("darkMode","true")):(document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode","false"))},[l]);const j=a=>{a.preventDefault(),v()},v=()=>{y.get("/mahasiswa/tugas",{search:u||void 0,status:g||void 0,mata_kuliah_id:m||void 0},{preserveState:!0})},N=()=>{c(""),x(""),h(""),y.get("/mahasiswa/tugas",{},{preserveState:!0})},w=a=>new Date(a).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}),p=a=>{const s=new Date(a),D=new Date,_=s.getTime()-D.getTime(),b=Math.ceil(_/(1e3*60*60*24));return b<=3&&b>0},k=(a,s)=>s?!1:new Date(a)<new Date,S=a=>a.pengumpulan?a.pengumpulan.nilai!==null?e.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400",children:["✓ Dinilai (",a.pengumpulan.nilai,")"]}):e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-400",children:"✓ Sudah Dikumpulkan"}):k(a.deadline,a.pengumpulan)?e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-red-100 text-red-700 dark:bg-red-900/20 dark:text-red-400",children:"⚠ Terlambat"}):p(a.deadline)?e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-700 dark:bg-orange-900/20 dark:text-orange-400",children:"⏰ Segera Berakhir"}):e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 dark:bg-gray-900/20 dark:text-gray-400",children:"Belum Dikumpulkan"});return e.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 transition-colors duration-300",children:[e.jsx(M,{title:"Tugas"}),e.jsx(C,{sidebarOpen:n,setSidebarOpen:i,activeMenu:"tugas"}),e.jsxs("div",{className:`p-4 transition-all duration-300 ${n?"lg:ml-64":"lg:ml-0"}`,children:[e.jsx(T,{sidebarOpen:n,setSidebarOpen:i,darkMode:l,setDarkMode:o,title:"Tugas Kuliah",subtitle:"Kelola dan kumpulkan tugas dari dosen"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cari Tugas"}),e.jsx("input",{type:"text",value:u,onChange:a=>c(a.target.value),placeholder:"Cari berdasarkan judul...",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 dark:bg-gray-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),e.jsxs("select",{value:g,onChange:a=>x(a.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"",children:"Semua Status"}),e.jsx("option",{value:"belum_dikumpulkan",children:"Belum Dikumpulkan"}),e.jsx("option",{value:"sudah_dikumpulkan",children:"Sudah Dikumpulkan"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Mata Kuliah"}),e.jsxs("select",{value:m,onChange:a=>h(a.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"",children:"Semua Mata Kuliah"}),f.map(a=>e.jsxs("option",{value:a.id,children:[a.kode_mk," - ",a.nama_mk]},a.id))]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"submit",className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition",children:"Cari"}),e.jsx("button",{type:"button",onClick:N,className:"px-6 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg transition",children:"Reset"})]})]})}),t.data.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:t.data.map(a=>e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-lg transition",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-2",children:a.judul}),e.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:[a.mata_kuliah.kode_mk," - ",a.mata_kuliah.nama_mk]})]}),S(a)]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4 line-clamp-2",children:a.deskripsi}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-700 dark:text-gray-300",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),a.dosen.nama]}),e.jsxs("div",{className:`flex items-center text-sm ${k(a.deadline,a.pengumpulan)?"text-red-600 dark:text-red-400 font-semibold":p(a.deadline)?"text-orange-600 dark:text-orange-400 font-semibold":"text-gray-700 dark:text-gray-300"}`,children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Deadline: ",w(a.deadline)]})]}),e.jsx(L,{href:`/mahasiswa/tugas/${a.id}`,className:"block w-full px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition text-center",children:"Lihat Detail & Kumpulkan"})]})},a.id))}),t.last_page>1&&e.jsx(B,{currentPage:t.current_page,lastPage:t.last_page,total:t.total,perPage:t.per_page})]}):e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-12 text-center border border-gray-200 dark:border-gray-700",children:[e.jsx("svg",{className:"w-20 h-20 text-gray-400 dark:text-gray-600 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-2",children:"Tidak Ada Tugas"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Belum ada tugas yang tersedia atau tidak ditemukan"})]})]})]})]})}export{z as default};
