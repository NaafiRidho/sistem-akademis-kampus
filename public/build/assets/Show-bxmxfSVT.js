import{a as t,d as v,j as e,H as D,c as S}from"./app-ByiX6l9u.js";import{M}from"./MahasiswaSidebar-B5stgciF.js";import{H as L}from"./Header-CSuXi-vG.js";import{T as C}from"./Toast-8zC1rfDH.js";/* empty css            */function F({tugas:a,flash:l}){const[n,g]=t.useState(!0),[i,u]=t.useState(!1),[p,d]=t.useState(!1),[o,c]=t.useState(null),{data:k,setData:m,post:y,processing:h,errors:b}=v({file:null,catatan:""});t.useEffect(()=>{const r=localStorage.getItem("darkMode")==="true";u(r),r&&document.documentElement.classList.add("dark")},[]),t.useEffect(()=>{i?(document.documentElement.classList.add("dark"),localStorage.setItem("darkMode","true")):(document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode","false"))},[i]),t.useEffect(()=>{l?.success?c({message:l.success,type:"success"}):l?.error&&c({message:l.error,type:"error"})},[l]);const j=r=>{r.preventDefault(),y(`/mahasiswa/tugas/${a.id}/submit`,{onSuccess:()=>{d(!1),m({file:null,catatan:""})}})},f=()=>{window.location.href=`/mahasiswa/tugas/${a.id}/download`},w=()=>{a.pengumpulan&&(window.location.href=`/mahasiswa/tugas/pengumpulan/${a.pengumpulan.id}/download`)},x=r=>new Date(r).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}),s=new Date(a.deadline)<new Date,N=!a.pengumpulan&&!s;return e.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 transition-colors duration-300",children:[e.jsx(D,{title:a.judul}),e.jsx(M,{sidebarOpen:n,setSidebarOpen:g,activeMenu:"tugas"}),o&&e.jsx(C,{message:o.message,type:o.type,onClose:()=>c(null)}),e.jsxs("div",{className:`p-4 transition-all duration-300 ${n?"lg:ml-64":"lg:ml-0"}`,children:[e.jsx(L,{sidebarOpen:n,setSidebarOpen:g,darkMode:i,setDarkMode:u,title:a.judul,subtitle:`${a.mata_kuliah.kode_mk} - ${a.mata_kuliah.nama_mk}`}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(S,{href:"/mahasiswa/tugas",className:"inline-flex items-center px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Kembali"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-4",children:"Detail Tugas"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Deskripsi"}),e.jsx("p",{className:"text-gray-800 dark:text-white mt-1 whitespace-pre-wrap",children:a.deskripsi})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Dosen Pengampu"}),e.jsx("p",{className:"text-gray-800 dark:text-white mt-1",children:a.dosen.nama})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Tanggal Dibuat"}),e.jsx("p",{className:"text-gray-800 dark:text-white mt-1",children:x(a.created_at)})]})]}),a.file_path&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2 block",children:"File Tugas"}),e.jsxs("button",{onClick:f,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download File Tugas"]})]})]})]}),a.pengumpulan&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-4",children:"Status Pengumpulan"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("svg",{className:"w-6 h-6 text-green-600 dark:text-green-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"font-semibold text-green-800 dark:text-green-300",children:"Tugas Sudah Dikumpulkan"})]}),e.jsxs("p",{className:"text-sm text-green-700 dark:text-green-400",children:["Dikumpulkan pada: ",x(a.pengumpulan.tanggal_pengumpulan)]}),e.jsxs("p",{className:"text-sm text-green-700 dark:text-green-400",children:["Status: ",a.pengumpulan.status]})]}),a.pengumpulan.catatan&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Catatan Anda"}),e.jsx("p",{className:"text-gray-800 dark:text-white mt-1 whitespace-pre-wrap bg-gray-50 dark:bg-gray-700 p-3 rounded-lg",children:a.pengumpulan.catatan})]}),a.pengumpulan.nilai!==null?e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[e.jsx("label",{className:"text-sm font-medium text-blue-800 dark:text-blue-300",children:"Nilai"}),e.jsx("p",{className:"text-3xl font-bold text-blue-800 dark:text-blue-300 mt-1",children:a.pengumpulan.nilai})]}):e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-300",children:"â³ Tugas Anda sedang dinilai oleh dosen"})}),e.jsxs("button",{onClick:w,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download File Pengumpulan"]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:`rounded-xl shadow-sm border p-6 ${s?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"}`,children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800 dark:text-white",children:"Deadline"}),e.jsxs("div",{className:"text-center",children:[e.jsx("svg",{className:`w-16 h-16 mx-auto mb-4 ${s?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("p",{className:`text-2xl font-bold mb-2 ${s?"text-red-800 dark:text-red-300":"text-gray-800 dark:text-white"}`,children:x(a.deadline)}),s&&!a.pengumpulan&&e.jsx("p",{className:"text-red-700 dark:text-red-400 text-sm font-semibold",children:"âš  Deadline sudah terlewat"})]})]}),!a.pengumpulan&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800 dark:text-white",children:"Kumpulkan Tugas"}),N?e.jsx("button",{onClick:()=>d(!0),className:"w-full px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg transition font-semibold",children:"ðŸ“¤ Kumpulkan Tugas"}):e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg text-center",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:s?"Deadline sudah terlewat":"Tugas sudah dikumpulkan"})})]})]})]})]})]}),p&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"Kumpulkan Tugas"}),e.jsx("button",{onClick:()=>d(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Upload File ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("input",{type:"file",onChange:r=>m("file",r.target.files?.[0]||null),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 dark:bg-gray-700 dark:text-white",required:!0}),b.file&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:b.file}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Maksimal 10MB"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Catatan (Opsional)"}),e.jsx("textarea",{value:k.catatan,onChange:r=>m("catatan",r.target.value),rows:4,placeholder:"Tambahkan catatan untuk dosen...",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 dark:bg-gray-700 dark:text-white"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"submit",disabled:h,className:"flex-1 px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg transition font-semibold disabled:opacity-50",children:h?"Mengirim...":"Kumpulkan"}),e.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-6 py-3 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg transition",children:"Batal"})]})]})]})})]})}export{F as default};
