import{a as l,j as e,H as f,b as i}from"./app-ChGtWkZu.js";import{M as w}from"./MahasiswaSidebar-BSw2Qd_A.js";import{H as S}from"./Header-CIFYwiEZ.js";/* empty css            */function C({absensi:t,mataKuliahList:y,statistik:r,filters:d}){const[n,x]=l.useState(!0),[o,c]=l.useState(!1),[g,h]=l.useState(d.mata_kuliah_id?.toString()||""),[m,u]=l.useState(d.status||""),[b,p]=l.useState(d.bulan||"");l.useEffect(()=>{const a=localStorage.getItem("darkMode")==="true";c(a)},[]);const j=()=>{i.get("/mahasiswa/absensi",{mata_kuliah_id:g,status:m,bulan:b},{preserveState:!0})},k=()=>{h(""),u(""),p(""),i.get("/mahasiswa/absensi")},v=a=>({Hadir:"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400",Izin:"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-400",Sakit:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/20 dark:text-yellow-400",Alpa:"bg-red-100 text-red-700 dark:bg-red-900/20 dark:text-red-400"})[a]||"bg-gray-100 text-gray-700",N=a=>{const s=new Date(a);return new Intl.DateTimeFormat("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"}).format(s)};return e.jsx("div",{className:o?"dark":"",children:e.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 transition-colors duration-300",children:[e.jsx(f,{title:"Riwayat Absensi"}),e.jsx(w,{sidebarOpen:n,setSidebarOpen:x,activeMenu:"absensi"}),e.jsxs("div",{className:`p-4 transition-all duration-300 ${n?"lg:ml-64":"lg:ml-0"}`,children:[e.jsx(S,{sidebarOpen:n,setSidebarOpen:x,darkMode:o,setDarkMode:c,title:"Riwayat Absensi",subtitle:"Lihat riwayat kehadiran Anda di semua mata kuliah"}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Riwayat Absensi Saya"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Lihat riwayat kehadiran Anda di semua mata kuliah"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-xs mb-1",children:"Total"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.total})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-xs mb-1",children:"Hadir"}),e.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:r.hadir})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-xs mb-1",children:"Izin"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:r.izin})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-xs mb-1",children:"Sakit"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:r.sakit})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-xs mb-1",children:"Alpa"}),e.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:r.alpa})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl shadow-lg p-4",children:[e.jsx("p",{className:"text-blue-100 text-xs mb-1",children:"Kehadiran"}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:[r.persentase_kehadiran.toFixed(1),"%"]})]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("button",{onClick:()=>i.get("/mahasiswa/absensi/rekap"),className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-xl font-semibold shadow-lg transition flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Lihat Rekap per Mata Kuliah"]})}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Filter Data"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Mata Kuliah"}),e.jsxs("select",{value:g,onChange:a=>h(a.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"",children:"Semua Mata Kuliah"}),y.map(a=>e.jsxs("option",{value:a.id,children:[a.kode_mk," - ",a.nama_mk]},a.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),e.jsxs("select",{value:m,onChange:a=>u(a.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"",children:"Semua Status"}),e.jsx("option",{value:"Hadir",children:"Hadir"}),e.jsx("option",{value:"Izin",children:"Izin"}),e.jsx("option",{value:"Sakit",children:"Sakit"}),e.jsx("option",{value:"Alpa",children:"Alpa"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Bulan"}),e.jsxs("select",{value:b,onChange:a=>p(a.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"",children:"Semua Bulan"}),e.jsx("option",{value:"01",children:"Januari"}),e.jsx("option",{value:"02",children:"Februari"}),e.jsx("option",{value:"03",children:"Maret"}),e.jsx("option",{value:"04",children:"April"}),e.jsx("option",{value:"05",children:"Mei"}),e.jsx("option",{value:"06",children:"Juni"}),e.jsx("option",{value:"07",children:"Juli"}),e.jsx("option",{value:"08",children:"Agustus"}),e.jsx("option",{value:"09",children:"September"}),e.jsx("option",{value:"10",children:"Oktober"}),e.jsx("option",{value:"11",children:"November"}),e.jsx("option",{value:"12",children:"Desember"})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:j,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition",children:"Terapkan Filter"}),e.jsx("button",{onClick:k,className:"px-6 py-2 bg-gray-300 dark:bg-gray-700 hover:bg-gray-400 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-semibold transition",children:"Reset"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"No"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Tanggal"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Mata Kuliah"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Jadwal"}),e.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold",children:"Pertemuan"}),e.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Keterangan"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:t.data.length>0?t.data.map((a,s)=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-700 dark:text-gray-300",children:(t.current_page-1)*t.per_page+s+1}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-700 dark:text-gray-300",children:N(a.tanggal)}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.mata_kuliah.nama}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[a.mata_kuliah.kode," (",a.mata_kuliah.sks," SKS)"]})]}),e.jsxs("td",{className:"px-6 py-4 text-sm text-gray-700 dark:text-gray-300",children:[a.jadwal.hari,", ",a.jadwal.jam_mulai.substring(0,5)," - ",a.jadwal.jam_selesai.substring(0,5)]}),e.jsx("td",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900 dark:text-white",children:a.pertemuan_ke}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${v(a.status)}`,children:a.status})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-700 dark:text-gray-300",children:a.keterangan||"-"})]},a.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("svg",{className:"w-16 h-16 text-gray-400 dark:text-gray-600 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"Belum ada data absensi"})]})})})})]})}),t.last_page>1&&e.jsx("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Menampilkan ",t.data.length," dari ",t.total," data"]}),e.jsx("div",{className:"flex gap-2",children:Array.from({length:t.last_page},(a,s)=>s+1).map(a=>e.jsx("button",{onClick:()=>i.get(`/mahasiswa/absensi?page=${a}`,d,{preserveState:!0}),className:`px-4 py-2 rounded-lg font-semibold transition ${a===t.current_page?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:a},a))})]})})]})]})]})]})})}export{C as default};
