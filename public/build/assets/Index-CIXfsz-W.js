import{a as t,j as e,H as w,c as l,b as d}from"./app-ByiX6l9u.js";import{D as N}from"./DosenSidebar-BMaEU3GE.js";import{H as _}from"./Header-CSuXi-vG.js";/* empty css            */function T({tugas:r,mataKuliahList:b,filters:c}){const[s,p]=t.useState(()=>{if(typeof window<"u"){const a=localStorage.getItem("darkMode");return a!==null?a==="true":window.matchMedia("(prefers-color-scheme: dark)").matches}return!1}),[n,g]=t.useState(()=>typeof window<"u"?window.innerWidth>=1024:!0),[o,x]=t.useState(c.search||""),[i,u]=t.useState(c.mata_kuliah_id||""),[S,k]=t.useState(null);t.useEffect(()=>{s?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode",String(s))},[s]);const h=()=>{d.get("/dosen/tugas",{search:o,mata_kuliah_id:i},{preserveState:!0})},j=()=>{x(""),u(""),d.get("/dosen/tugas")},y=a=>{confirm("Apakah Anda yakin ingin menghapus tugas ini?")&&d.delete(`/dosen/tugas/${a}`,{preserveScroll:!0,onSuccess:()=>{k(null)}})},f=a=>{switch(a){case"normal":return e.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300",children:"Normal"});case"urgent":return e.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300",children:"Segera"});case"expired":return e.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300",children:"Expired"});default:return null}},v=a=>new Date(a).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsx("div",{className:s?"dark":"",children:e.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 transition-colors duration-300",children:[e.jsx(w,{title:"Kelola Tugas"}),e.jsx(N,{sidebarOpen:n,setSidebarOpen:g,activeMenu:"tugas"}),e.jsxs("div",{className:`p-4 transition-all duration-300 ${n?"lg:ml-64":"lg:ml-0"}`,children:[e.jsx(_,{sidebarOpen:n,setSidebarOpen:g,darkMode:s,setDarkMode:p,title:"Kelola Tugas",subtitle:"Kelola dan pantau tugas mahasiswa"}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 p-6 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cari Tugas"}),e.jsx("input",{type:"text",value:o,onChange:a=>x(a.target.value),placeholder:"Cari berdasarkan judul...",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",onKeyPress:a=>{a.key==="Enter"&&h()}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Filter Mata Kuliah"}),e.jsxs("select",{value:i,onChange:a=>u(a.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Semua Mata Kuliah"}),b.map(a=>e.jsxs("option",{value:a.id,children:[a.kode_mk," - ",a.nama_mk]},a.id))]})]}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx("button",{onClick:h,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Filter"}),e.jsx("button",{onClick:j,className:"flex-1 px-4 py-2 bg-gray-300 dark:bg-gray-600 hover:bg-gray-400 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-200 rounded-lg transition-colors",children:"Reset"})]})]})}),e.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total: ",r.total," tugas"]}),e.jsxs(l,{href:"/dosen/tugas/create",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all duration-200 shadow-lg",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Tambah Tugas"]})]}),r.data.length===0?e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 p-12 text-center",children:[e.jsx("svg",{className:"mx-auto h-16 w-16 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Belum Ada Tugas"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Mulai dengan membuat tugas pertama Anda"}),e.jsxs(l,{href:"/dosen/tugas/create",className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Tambah Tugas"]})]}):e.jsx("div",{className:"space-y-4",children:r.data.map(a=>e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:a.judul}),f(a.status_deadline)]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:[a.mata_kuliah.kode_mk," -"," ",a.mata_kuliah.nama_mk]}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-3 line-clamp-2",children:a.deskripsi})]})}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mb-1",children:"Total Mahasiswa"}),e.jsx("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300",children:a.total_mahasiswa})]}),e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mb-1",children:"Sudah Mengumpulkan"}),e.jsx("p",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:a.jumlah_pengumpulan})]}),e.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-orange-600 dark:text-orange-400 mb-1",children:"Belum Mengumpulkan"}),e.jsx("p",{className:"text-2xl font-bold text-orange-700 dark:text-orange-300",children:a.belum_mengumpulkan})]}),e.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400 mb-1",children:"Progress"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-700 dark:text-purple-300",children:[a.total_mahasiswa>0?Math.round(a.jumlah_pengumpulan/a.total_mahasiswa*100):0,"%"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400 mb-4",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsxs("span",{children:["Deadline:"," ",v(a.deadline)]})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx(l,{href:`/dosen/tugas/${a.id}`,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-center transition-colors",children:"Lihat Detail"}),e.jsx(l,{href:`/dosen/tugas/${a.id}/edit`,className:"px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg transition-colors",children:"Edit"}),a.file_path&&e.jsx("a",{href:`/dosen/tugas/${a.id}/download`,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:"Download"}),e.jsx("button",{onClick:()=>y(a.id),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Hapus"})]})]})},a.id))}),r.last_page>1&&e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx("nav",{className:"flex items-center gap-2",children:Array.from({length:r.last_page},(a,m)=>m+1).map(a=>e.jsx("button",{onClick:()=>d.get(`/dosen/tugas?page=${a}`,{search:o,mata_kuliah_id:i}),className:`px-4 py-2 rounded-lg ${a===r.current_page?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:a},a))})})]})]})})}export{T as default};
