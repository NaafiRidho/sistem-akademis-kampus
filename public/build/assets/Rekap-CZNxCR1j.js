import{a,j as e,H as f,b as i}from"./app--6YDKO9i.js";import{D as w}from"./DosenSidebar-DXVPBAMm.js";import{H as v}from"./Header-DB4bPmX4.js";/* empty css            */function L({mahasiswaList:s,kelasList:g,jadwalList:m,filters:l}){const[r,h]=a.useState(()=>{if(typeof window<"u"){const t=localStorage.getItem("darkMode");return t!==null?t==="true":window.matchMedia("(prefers-color-scheme: dark)").matches}return!1}),[d,o]=a.useState(()=>typeof window<"u"?window.innerWidth>=1024:!0),[x,u]=a.useState(l.jadwal_id?.toString()||""),[c,b]=a.useState(l.kelas_id?.toString()||""),[n,p]=a.useState(l.bulan||new Date().toISOString().slice(0,7));a.useEffect(()=>{r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode",String(r))},[r]);const k=()=>{i.get("/dosen/absensi/rekap",{jadwal_id:x,kelas_id:c,bulan:n},{preserveState:!0})},y=t=>t>=80?"text-green-600 dark:text-green-400":t>=60?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400";return e.jsx("div",{className:r?"dark":"",children:e.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 transition-colors duration-300",children:[e.jsx(f,{title:"Rekap Absensi"}),e.jsx(w,{sidebarOpen:d,setSidebarOpen:o,activeMenu:"absensi"}),e.jsxs("div",{className:`p-4 transition-all duration-300 ${d?"lg:ml-64":"lg:ml-0"}`,children:[e.jsx(v,{sidebarOpen:d,setSidebarOpen:o,darkMode:r,setDarkMode:h,title:"Rekap Absensi",subtitle:"Ringkasan kehadiran mahasiswa per mata kuliah"}),e.jsxs("div",{className:"mt-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("button",{onClick:()=>i.get("/dosen/absensi"),className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 mb-4 flex items-center gap-2 text-sm font-medium",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Kembali ke Daftar Absensi"]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"ðŸ“Š Rekap Absensi Mahasiswa"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Statistik kehadiran mahasiswa per kelas dan periode"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),e.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-white",children:"Filter Periode & Kelas"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ðŸ“š Mata Kuliah"}),e.jsxs("select",{value:x,onChange:t=>u(t.target.value),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"",children:"Semua Mata Kuliah"}),m.map(t=>e.jsx("option",{value:t.id,children:t.label},t.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ðŸ« Kelas"}),e.jsxs("select",{value:c,onChange:t=>b(t.target.value),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"",children:"Semua Kelas"}),g.map(t=>e.jsx("option",{value:t.id,children:t.nama_kelas},t.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ðŸ“… Periode Bulan"}),e.jsx("input",{type:"month",value:n,onChange:t=>p(t.target.value),max:new Date().toISOString().slice(0,7),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]})]}),e.jsx("div",{className:"flex gap-3 mt-4",children:e.jsxs("button",{onClick:k,className:"px-6 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition-colors shadow-sm flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Tampilkan Rekap"]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Statistik Kehadiran"]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Periode: ",new Date(n+"-01").toLocaleDateString("id-ID",{month:"long",year:"numeric"})]})]}),e.jsxs("span",{className:"bg-blue-100 dark:bg-blue-900/40 text-blue-700 dark:text-blue-300 px-4 py-2 rounded-lg text-sm font-bold",children:[s.length," Mahasiswa"]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full bg-white dark:bg-gray-800",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700 border-b-2 border-gray-200 dark:border-gray-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 dark:text-gray-200 uppercase tracking-wider w-16",children:"No"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 dark:text-gray-200 uppercase tracking-wider",children:"ðŸ‘¤ Mahasiswa"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-700 dark:text-gray-200 uppercase tracking-wider w-24",children:"âœ… Hadir"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-700 dark:text-gray-200 uppercase tracking-wider w-24",children:"ðŸ“ Izin"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-700 dark:text-gray-200 uppercase tracking-wider w-24",children:"ðŸ¥ Sakit"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-700 dark:text-gray-200 uppercase tracking-wider w-24",children:"âŒ Alpa"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-700 dark:text-gray-200 uppercase tracking-wider w-24",children:"ðŸ“Š Total"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-700 dark:text-gray-200 uppercase tracking-wider w-32",children:"ðŸŽ¯ Kehadiran"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:s.length>0?s.map((t,j)=>e.jsxs("tr",{className:"hover:bg-blue-50 dark:hover:bg-gray-700/30 transition-colors",children:[e.jsx("td",{className:"px-4 py-4 text-sm font-medium text-gray-900 dark:text-gray-100",children:j+1}),e.jsxs("td",{className:"px-4 py-4",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:t.nama}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:[t.nim," â€¢ ",t.kelas]})]}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-lg bg-green-100 dark:bg-green-900/20",children:e.jsx("span",{className:"text-lg font-bold text-green-700 dark:text-green-400",children:t.hadir})})}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-lg bg-blue-100 dark:bg-blue-900/20",children:e.jsx("span",{className:"text-lg font-bold text-blue-700 dark:text-blue-400",children:t.izin})})}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-lg bg-yellow-100 dark:bg-yellow-900/20",children:e.jsx("span",{className:"text-lg font-bold text-yellow-700 dark:text-yellow-400",children:t.sakit})})}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-lg bg-red-100 dark:bg-red-900/20",children:e.jsx("span",{className:"text-lg font-bold text-red-700 dark:text-red-400",children:t.alpa})})}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("span",{className:"text-base font-bold text-gray-900 dark:text-white",children:t.total})}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsxs("span",{className:`text-xl font-bold ${y(t.persentase)}`,children:[t.persentase,"%"]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all ${t.persentase>=80?"bg-green-500":t.persentase>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${t.persentase}%`}})})]})})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-6 py-16 text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-full p-6 mb-4",children:e.jsx("svg",{className:"w-16 h-16 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Tidak Ada Data Rekap"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-4",children:"Belum ada data absensi untuk periode yang dipilih"}),e.jsx("button",{onClick:()=>i.get("/dosen/absensi/create"),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition-colors shadow-md",children:"Input Absensi"})]})})})})]})})]})]})]})]})})}export{L as default};
