import{r as p,j as e,a as h}from"./app-DDOQZFkl.js";function j({show:l,onClose:d,onConfirm:r,title:x,message:s,itemName:i,isLoading:t=!1}){return l?p.createPortal(e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-start justify-center p-4",children:e.jsx("div",{className:"relative top-10 md:top-20 mx-auto p-4 md:p-5 border w-full max-w-md shadow-lg rounded-md bg-white dark:bg-gray-800",children:e.jsxs("div",{className:"mt-3 text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900",children:e.jsx("svg",{className:"h-6 w-6 text-red-600 dark:text-red-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 dark:text-white mt-4",children:x}),e.jsx("div",{className:"mt-2 px-7 py-3",children:e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[s,e.jsx("br",{}),e.jsx("strong",{className:"text-gray-900 dark:text-white",children:i}),e.jsx("br",{}),"Aksi ini tidak dapat dibatalkan."]})}),e.jsxs("div",{className:"flex gap-2 px-4 py-3",children:[e.jsxs("button",{onClick:r,disabled:t,className:"flex-1 bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[t&&e.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t?"Menghapus...":"Hapus"]}),e.jsx("button",{onClick:d,disabled:t,className:"flex-1 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-md hover:bg-gray-400 dark:hover:bg-gray-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Batal"})]})]})})}),document.body):null}function w({show:l,onClose:d,onSubmit:r,file:x,setFile:s,templateUrl:i,entityName:t,isLoading:n=!1}){if(!l)return null;const u=a=>{if(a.preventDefault(),!x){alert("Pilih file terlebih dahulu");return}r(a)};return p.createPortal(e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-start justify-center p-4",children:e.jsxs("div",{className:"relative top-10 md:top-20 mx-auto p-4 md:p-5 border w-full max-w-md shadow-lg rounded-md bg-white dark:bg-gray-800",children:[e.jsxs("h3",{className:"text-lg font-medium leading-6 text-gray-900 dark:text-white mb-4",children:["Import Data ",t]}),e.jsxs("form",{onSubmit:u,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Pilih File Excel"}),e.jsx("input",{type:"file",accept:".xlsx,.xls,.csv",onChange:a=>{const o=a.target.files?.[0];o&&(console.log("File selected:",o.name,o.type,o.size),s(o))},className:"w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md shadow-sm"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Format: .xlsx, .xls, atau .csv"})]}),e.jsx("div",{className:"mb-4",children:e.jsx("a",{href:i,className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:"Download Template Excel"})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{type:"submit",disabled:n,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[n&&e.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n?"Mengimport...":"Import"]}),e.jsx("button",{type:"button",onClick:d,disabled:n,className:"flex-1 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-md hover:bg-gray-400 dark:hover:bg-gray-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Batal"})]})]})]})}),document.body)}function k({type:l,message:d,details:r,onClose:x,duration:s=5e3}){const[i,t]=h.useState(!1),[n,u]=h.useState(100);h.useEffect(()=>{console.log("Toast mounted with:",{type:l,message:d,details:r}),setTimeout(()=>{console.log("Setting toast visible"),t(!0)},10);const m=setInterval(()=>{u(f=>{const b=f-100/(s/100);return b<=0?(clearInterval(m),0):b})},100),g=setTimeout(()=>{a()},s);return()=>{clearTimeout(g),clearInterval(m)}},[s]);const a=()=>{t(!1),setTimeout(x,300)},o=()=>{switch(l){case"success":return e.jsx("svg",{className:"w-6 h-6 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})});case"error":return e.jsx("svg",{className:"w-6 h-6 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})});case"warning":return e.jsx("svg",{className:"w-6 h-6 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})});case"info":return e.jsx("svg",{className:"w-6 h-6 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}},c=(()=>{switch(l){case"success":return{bg:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900 dark:to-emerald-900",border:"border-green-500",text:"text-green-700 dark:text-green-200",progress:"bg-green-500"};case"error":return{bg:"bg-gradient-to-r from-red-50 to-pink-50 dark:from-red-900 dark:to-pink-900",border:"border-red-500",text:"text-red-700 dark:text-red-200",progress:"bg-red-500"};case"warning":return{bg:"bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900 dark:to-orange-900",border:"border-yellow-500",text:"text-yellow-700 dark:text-yellow-200",progress:"bg-yellow-500"};case"info":return{bg:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900 dark:to-indigo-900",border:"border-blue-500",text:"text-blue-700 dark:text-blue-200",progress:"bg-blue-500"}}})();return console.log("Toast rendering with isVisible:",i),e.jsx("div",{className:`fixed top-4 right-4 transition-all duration-300 transform ${i?"translate-x-0 opacity-100":"translate-x-full opacity-0"}`,style:{maxWidth:"400px",zIndex:9999,pointerEvents:"auto"},children:e.jsxs("div",{className:`${c.bg} border-l-4 ${c.border} rounded-lg shadow-2xl overflow-hidden`,children:[e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:o()}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsx("p",{className:`text-sm font-semibold ${c.text}`,children:d}),r&&r.length>0&&e.jsx("div",{className:"mt-2 text-xs",children:e.jsxs("details",{className:c.text,children:[e.jsxs("summary",{className:"cursor-pointer font-medium hover:underline",children:["Lihat detail (",r.length," error)"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside space-y-1 max-h-40 overflow-y-auto",children:[r.slice(0,10).map((m,g)=>e.jsx("li",{children:m},g)),r.length>10&&e.jsxs("li",{className:"font-semibold",children:["... dan ",r.length-10," error lainnya"]})]})]})})]}),e.jsx("div",{className:"ml-4 flex-shrink-0",children:e.jsxs("button",{onClick:a,className:`inline-flex rounded-md ${c.text} hover:opacity-75 focus:outline-none transition-opacity`,children:[e.jsx("span",{className:"sr-only",children:"Close"}),e.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})}),e.jsx("div",{className:"h-1 bg-gray-200 dark:bg-gray-700",children:e.jsx("div",{className:`h-full ${c.progress} transition-all duration-100 ease-linear`,style:{width:`${n}%`}})})]})})}export{j as D,w as I,k as T};
